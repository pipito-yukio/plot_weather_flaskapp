2022-09-23 18:18:04 INFO __init__.py(52)[<module>] SERVER_HOST: dell-t7500.local:5000
2022-09-23 18:18:04 DEBUG __init__.py(59)[<module>] <Config {'ENV': 'development', 'DEBUG': True, 'TESTING': False, 'PROPAGATE_EXCEPTIONS': None, 'PRESERVE_CONTEXT_ON_EXCEPTION': None, 'SECRET_KEY': b'\x80&\xaeh\xb7vB\x9d\xacr.\xbb\xc1\x04\xf4\x0c', 'PERMANENT_SESSION_LIFETIME': datetime.timedelta(days=31), 'USE_X_SENDFILE': False, 'SERVER_NAME': 'dell-t7500.local:5000', 'APPLICATION_ROOT': '/plot_weather', 'SESSION_COOKIE_NAME': 'session', 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_PATH': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_SECURE': False, 'SESSION_COOKIE_SAMESITE': None, 'SESSION_REFRESH_EACH_REQUEST': True, 'MAX_CONTENT_LENGTH': None, 'SEND_FILE_MAX_AGE_DEFAULT': None, 'TRAP_BAD_REQUEST_ERRORS': None, 'TRAP_HTTP_EXCEPTIONS': False, 'EXPLAIN_TEMPLATE_LOADING': False, 'PREFERRED_URL_SCHEME': 'http', 'JSON_AS_ASCII': False, 'JSON_SORT_KEYS': True, 'JSONIFY_PRETTYPRINT_REGULAR': False, 'JSONIFY_MIMETYPE': 'application/json', 'TEMPLATES_AUTO_RELOAD': None, 'MAX_COOKIE_SIZE': 4093, 'INFO_TODAY_UPDATE_INTERVAL': '本日データの更新は１０分間隔', 'INVALID_BEFORE_DAYS': 'Invalid request parameter!', 'REQUIRE_BEFORE_DAYS': 'Require request parameter!', 'REQUIRE_PHONE_IMG_SIZE': 'Require phone Image size!', 'STR_TODAY': '本日', 'TITLE_SUFFIX': 'データ表示', 'UNMATCH_TOKEN': 'Unmatched request authority!', 'HEADER_REQUEST_IMAGE_SIZE_KEY': 'X-Request-Image-Size', 'HEADER_REQUEST_NETWORKS': ['wifi', 'mobile'], 'HEADER_REQUEST_NETWORK_TYPE_KEY': 'X-Request-Network-Type', 'HEADER_REQUEST_PHONE_TOKEN_KEY': 'X-Request-Phone-Token', 'HEADER_REQUEST_PHONE_TOKEN_VALUE': 'DwBEEeF3UirKeSj6H5Uh0BMSqT1U25hprsxblyJDYtU'}>
2022-09-23 18:18:04 DEBUG __init__.py(74)[<module>] dbconf: {'host': 'dell-t7500.local', 'port': '5432', 'database': 'sensors_pgdb', 'user': 'developer', 'password': 'dev%5588'}
2022-09-23 18:18:04 INFO __init__.py(76)[<module>] postgreSQL_pool(max=5): <psycopg2.pool.SimpleConnectionPool object at 0x7fd4d16025e0>
2022-09-23 18:18:05 INFO run.py(15)[<module>] run.py in host: dell-t7500.local, port: 5000
2022-09-23 18:18:05 INFO run.py(31)[<module>] Development start, with debug.
2022-09-23 18:18:25 DEBUG app_main.py(57)[index] /plot_weather
2022-09-23 18:18:25 DEBUG app_main.py(37)[get_connection] g.db:<connection object at 0x7fd4d16e8e00; dsn: 'user=developer password=xxx dbname=sensors_pgdb host=dell-t7500.local port=5432', closed: 0>
2022-09-23 18:18:25 DEBUG weatherdao.py(141)[_getDateGroupByList] esp8266_1, 2021-11
2022-09-23 18:18:25 DEBUG weatherdao.py(150)[_getDateGroupByList] tupledlist: [('2022-09',), ('2022-08',), ('2022-07',), ('2022-06',), ('2022-05',), ('2022-04',), ('2022-03',), ('2022-02',), ('2022-01',), ('2021-12',), ('2021-11',)]
2022-09-23 18:18:25 DEBUG app_main.py(67)[index] yearMonthList:['2022-09', '2022-08', '2022-07', '2022-06', '2022-05', '2022-04', '2022-03', '2022-02', '2022-01', '2021-12', '2021-11']
2022-09-23 18:18:25 DEBUG weatherdao.py(196)[getTodayData] device_name: esp8266_1, today: 2022-09-23
2022-09-23 18:18:25 DEBUG weatherdao.py(202)[getTodayData] tupledlist length: 86
2022-09-23 18:18:25 DEBUG plotterweather.py(112)[loadTodayDataFrame] Before df:
      measurement_time  temp_out  temp_in  humid  pressure
1  2022-09-23 00:07:00      16.7     22.8   50.8    1017.4
1  2022-09-23 00:16:00      16.6     22.7   51.0    1017.3
1  2022-09-23 00:26:00      16.6     22.7   51.2    1017.2
1  2022-09-23 00:36:00      16.6     22.6   51.1    1017.2
1  2022-09-23 00:46:00      16.5     22.6   51.2    1017.0
..                 ...       ...      ...    ...       ...
1  2022-09-23 13:15:00      18.3     23.0   62.1    1009.9
1  2022-09-23 13:25:00      18.6     23.0   62.4    1009.8
1  2022-09-23 13:35:00      18.8     23.1   62.7    1009.8
1  2022-09-23 13:45:00      18.6     23.1   62.4    1009.5
1  2022-09-23 13:54:00      18.6     23.1   61.9    1009.6

[86 rows x 5 columns]
2022-09-23 18:18:25 DEBUG plotterweather.py(113)[loadTodayDataFrame] Before df.index:
Index(['1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
       '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
       '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
       '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
       '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
       '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
       '1', '1'],
      dtype='object')
2022-09-23 18:18:25 DEBUG plotterweather.py(123)[loadTodayDataFrame] After df:
                       measurement_time  temp_out  temp_in  humid  pressure
measurement_time                                                           
2022-09-23 00:07:00 2022-09-23 00:07:00      16.7     22.8   50.8    1017.4
2022-09-23 00:16:00 2022-09-23 00:16:00      16.6     22.7   51.0    1017.3
2022-09-23 00:26:00 2022-09-23 00:26:00      16.6     22.7   51.2    1017.2
2022-09-23 00:36:00 2022-09-23 00:36:00      16.6     22.6   51.1    1017.2
2022-09-23 00:46:00 2022-09-23 00:46:00      16.5     22.6   51.2    1017.0
...                                 ...       ...      ...    ...       ...
2022-09-23 13:15:00 2022-09-23 13:15:00      18.3     23.0   62.1    1009.9
2022-09-23 13:25:00 2022-09-23 13:25:00      18.6     23.0   62.4    1009.8
2022-09-23 13:35:00 2022-09-23 13:35:00      18.8     23.1   62.7    1009.8
2022-09-23 13:45:00 2022-09-23 13:45:00      18.6     23.1   62.4    1009.5
2022-09-23 13:54:00 2022-09-23 13:54:00      18.6     23.1   61.9    1009.6

[86 rows x 5 columns]
2022-09-23 18:18:25 DEBUG plotterweather.py(124)[loadTodayDataFrame] After df.index:
DatetimeIndex(['2022-09-23 00:07:00', '2022-09-23 00:16:00',
               '2022-09-23 00:26:00', '2022-09-23 00:36:00',
               '2022-09-23 00:46:00', '2022-09-23 00:55:00',
               '2022-09-23 01:05:00', '2022-09-23 01:15:00',
               '2022-09-23 01:24:00', '2022-09-23 01:34:00',
               '2022-09-23 01:44:00', '2022-09-23 01:54:00',
               '2022-09-23 02:03:00', '2022-09-23 02:13:00',
               '2022-09-23 02:23:00', '2022-09-23 02:33:00',
               '2022-09-23 02:42:00', '2022-09-23 02:52:00',
               '2022-09-23 03:02:00', '2022-09-23 03:12:00',
               '2022-09-23 03:21:00', '2022-09-23 03:31:00',
               '2022-09-23 03:41:00', '2022-09-23 03:51:00',
               '2022-09-23 04:00:00', '2022-09-23 04:10:00',
               '2022-09-23 04:20:00', '2022-09-23 04:29:00',
               '2022-09-23 04:39:00', '2022-09-23 04:49:00',
               '2022-09-23 04:59:00', '2022-09-23 05:08:00',
               '2022-09-23 05:18:00', '2022-09-23 05:28:00',
               '2022-09-23 05:38:00', '2022-09-23 05:47:00',
               '2022-09-23 05:57:00', '2022-09-23 06:07:00',
               '2022-09-23 06:17:00', '2022-09-23 06:26:00',
               '2022-09-23 06:36:00', '2022-09-23 06:46:00',
               '2022-09-23 06:56:00', '2022-09-23 07:05:00',
               '2022-09-23 07:15:00', '2022-09-23 07:25:00',
               '2022-09-23 07:34:00', '2022-09-23 07:44:00',
               '2022-09-23 07:54:00', '2022-09-23 08:04:00',
               '2022-09-23 08:13:00', '2022-09-23 08:23:00',
               '2022-09-23 08:33:00', '2022-09-23 08:43:00',
               '2022-09-23 08:52:00', '2022-09-23 09:02:00',
               '2022-09-23 09:12:00', '2022-09-23 09:22:00',
               '2022-09-23 09:31:00', '2022-09-23 09:41:00',
               '2022-09-23 09:51:00', '2022-09-23 10:00:00',
               '2022-09-23 10:10:00', '2022-09-23 10:20:00',
               '2022-09-23 10:30:00', '2022-09-23 10:39:00',
               '2022-09-23 10:49:00', '2022-09-23 10:59:00',
               '2022-09-23 11:09:00', '2022-09-23 11:18:00',
               '2022-09-23 11:28:00', '2022-09-23 11:38:00',
               '2022-09-23 11:48:00', '2022-09-23 11:57:00',
               '2022-09-23 12:07:00', '2022-09-23 12:17:00',
               '2022-09-23 12:27:00', '2022-09-23 12:36:00',
               '2022-09-23 12:46:00', '2022-09-23 12:56:00',
               '2022-09-23 13:06:00', '2022-09-23 13:15:00',
               '2022-09-23 13:25:00', '2022-09-23 13:35:00',
               '2022-09-23 13:45:00', '2022-09-23 13:54:00'],
              dtype='datetime64[ns]', name='measurement_time', freq=None)
2022-09-23 18:18:25 DEBUG plotterweather.py(342)[gen_plot_image] fig: Figure(1100x800)
2022-09-23 18:18:26 DEBUG plotterweather.py(390)[gen_plot_image] data.len: 52896
2022-09-23 18:18:26 DEBUG app_main.py(45)[close_connection] db:<connection object at 0x7fd4d16e8e00; dsn: 'user=developer password=xxx dbname=sensors_pgdb host=dell-t7500.local port=5432', closed: 0>
2022-09-23 18:18:31 DEBUG app_main.py(127)[getMonthImage] /plot_weather/getmonth/2022-08
2022-09-23 18:18:31 DEBUG app_main.py(37)[get_connection] g.db:<connection object at 0x7fd4d16e8e00; dsn: 'user=developer password=xxx dbname=sensors_pgdb host=dell-t7500.local port=5432', closed: 0>
2022-09-23 18:18:31 DEBUG weatherdao.py(214)[getMonthData] device_name: esp8266_1, from_date: 2022-08-01, to_next_date: 2022-09-01
2022-09-23 18:18:31 DEBUG weatherdao.py(226)[getMonthData] tupledlist length: 4579
2022-09-23 18:18:31 DEBUG plotterweather.py(163)[loadMonthDataFrame]       measurement_time  temp_out  temp_in  humid  pressure
1  2022-08-01 00:01:00      24.4     26.5   70.1    1008.9
1  2022-08-01 00:11:00      24.0     26.6   69.8    1008.7
1  2022-08-01 00:21:00      24.0     26.7   69.3    1008.7
1  2022-08-01 00:30:00      23.9     26.7   69.2    1008.9
1  2022-08-01 00:40:00      23.8     26.8   68.9    1009.0
..                 ...       ...      ...    ...       ...
1  2022-08-31 23:20:00      17.3     23.4   65.1    1002.0
1  2022-08-31 23:30:00      17.4     23.4   65.3    1002.1
1  2022-08-31 23:39:00      17.4     23.3   65.7    1002.1
1  2022-08-31 23:49:00      17.4     23.3   65.5    1002.4
1  2022-08-31 23:59:00      17.4     23.3   65.5    1002.4

[4579 rows x 5 columns]
2022-09-23 18:18:31 DEBUG plotterweather.py(342)[gen_plot_image] fig: Figure(1100x800)
2022-09-23 18:18:32 DEBUG plotterweather.py(390)[gen_plot_image] data.len: 119276
2022-09-23 18:18:32 DEBUG app_main.py(45)[close_connection] db:<connection object at 0x7fd4d16e8e00; dsn: 'user=developer password=xxx dbname=sensors_pgdb host=dell-t7500.local port=5432', closed: 0>
